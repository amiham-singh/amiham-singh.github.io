<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>News Sentiment Analysis</title>

    <!-- Bootstrap Core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>

    <!-- Plugin CSS -->
    <link href="vendor/magnific-popup/magnific-popup.css" rel="stylesheet">

    <!-- Theme CSS -->
    <link href="css/creative.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <style type="text/css">
    ${demo.css}
        </style>
   
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
     
</head>

<body id="page-top">

    <header>
        <div class="header-content">
            <div class="header-content-inner">
                <h1 id="homeHeading" class = "animated fadeInUp">Trump and the media</h1>
                <hr>
                <p><a href="https://github.com/amiham-singh"><font color="white">Mahima Singh</font></a></p>
                
                
            </div>
        </div>
    </header>

    <aside class="bg-primary">
        <div class="container text-center">
            <hr class="light">
                    <p class="text-faded">Mr. Trump’s relationship with the media has been a constant tug of war. Even before he became the President of the United States, the collective opinion about him in news media kept shifting. This project attempts to quantify that very oscillation of sentiment. </p>
                    
        </div>
    </aside>

    <!-- <section id="services"> -->
        

        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                <hr class="primary">
                <br>

                    <p>As I read news about the president’s campaign, his election and then his inauguration, I felt that there was a sudden shift in the way news media was talking about Mr. Trump, especially during the lead up to his inauguration and the first few weeks of his presidency. While some of the negativity was self-explanatory because of the person gibes Mr. Trump was making at the media</p>
                    <center><blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">The FAKE NEWS media (failing <a href="https://twitter.com/nytimes">@nytimes</a>, <a href="https://twitter.com/NBCNews">@NBCNews</a>, <a href="https://twitter.com/ABC">@ABC</a>, <a href="https://twitter.com/CBS">@CBS</a>, <a href="https://twitter.com/CNN">@CNN</a>) is not my enemy, it is the enemy of the American People!</p>&mdash; Donald J. Trump (@realDonaldTrump) <a href="https://twitter.com/realDonaldTrump/status/832708293516632065">February 17, 2017</a></blockquote>
                    <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></center>

                    <p>I wanted to see if data could prove my hypothesis that <i>there was a shift in news sentiment towards trump before and after his inauguration. </i></p>
                    
                </div>
            </div>
        </div>
<div class="container">
            <div class="row">
                <div class="col-lg-12 ">
                <hr class="primary">
                <center><h2 class="section-heading">Text Analysis</h2></center>
                <br>
                    <p>There have been <a href="http://www.npr.org/2017/04/13/523709894/using-sentiment-analysis-to-understand-trumps-tweets">multiple</a> sentiment analyses done on Mr. Trump’s social media posts. While these projects make the news and garner online attention, <a href="http://thehill.com/homenews/media/321781-analysis-only-3-percent-of-reports-on-cbs-nbc-positive-for-trump">few</a> analyses have been on the <a href="https://www.theatlantic.com/technology/archive/2016/10/a-computers-hot-take-on-2016/504575/">media</a> itself.  During the presidential campaign in 2016, Data Face ran a <a href="http://thedataface.com/trump-media-analysis/">text analysis</a> on news articles about Trump and Clinton. The results gained a lot of media attention and in fact steered conversation. I planned to follow a similar approach. For the final project of our Natural Language processing class at Syracuse University Daniela Fernández Espinosa from the information school ( Syracuse University), James Troncale from the linguistics department (Syracuse University) and I  built a prototype sentiment analyzer to help political figures make better strategy plans. The results of that analysis are posted here.</p>
                    
                    
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                <div class="col-lg-12 ">
                <hr class="primary">
                <center><h2 class="section-heading">Sentiment in Media</h2></center>
                <br><script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>

<div id="container1" style="min-width: 310px; height: 400px; margin: 0 auto"></div>



        <script type="text/javascript">

Highcharts.chart('container1', {
    chart: {
        type: 'column'
    },
    title: {
        text: 'News Media Polarity'
    },
    // subtitle: {
    //     text: 'Source: WorldClimate.com'
    // },
    xAxis: {
        categories: [
            'Negative',
            'Neutral',
            'Positive',
            
        ],
        crosshair: true
    },
    yAxis: {
        min: 0,
        title: {
            text: 'Percent'
        }
    },
    tooltip: {
        headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
        pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
            '<td style="padding:0"><b>{point.y:.1f} %</b></td></tr>',
        footerFormat: '</table>',
        shared: true,
        useHTML: true
    },
    plotOptions: {
        column: {
            pointPadding: 0.2,
            borderWidth: 0
        }
    },
    series: [{
        name: 'Before inauguration',
        color: "#FFD700",
        data: [38.44, 36.85, 24.7]

    
    }, {
        name: 'After inauguration',
        color: "#FF8C00",
        data: [43.71, 35.85, 20.43]

    }]
});
        </script>
                    <p>There isn’t a very big shift in polarity, but we can see that the percent of negative articles increased after his inauguration while the percent of positive and neutral articles went down. The high percent of neutral articles represents news media’s objectivity. <br> What is more interesting is when we break down this tally, source wise. </p>
                    
                    
                </div>
            </div>
        </div>


        <div class="container">
            
                
                <hr class="primary">
                <center><h2 class="section-heading">Source Break UP</h2></center>



                <div class="row">
                
                    <div class="col-lg-6 col-md-6 text-center">

                        <div class="service-box">
                        
                        <img src="img/ct.jpg" class="img-responsive" alt="">  </div>  <hr class="primary"> <br>
                        <div id="ct" style="min-width: 310px; max-width: 800px; height: 400px; margin: 0 auto"></div>          
                        
                                           

                    </div>

                    <div class="col-lg-6 col-md-6 text-center">

                        <div class="service-box">
                        <center><img src="img/cnn.jpg" class="img-responsive" alt=""> </center></div> <hr class="primary"><br>    
                        <div id="cnn" style="min-width: 310px; max-width: 800px; height: 400px; margin: 0 auto"></div>          
                        
                                        

                    </div>
                   
                </div>
                <br><br>
               
<!-- row two -->
                  <div class="row">
                
                    <div class="col-lg-6 col-md-6 text-center">

                        <div class="service-box">
                        
                        <img src="img/fox.jpg" class="img-responsive" alt="">  </div> <hr class="primary"> <br>   
                        <div id="fox" style="min-width: 310px; max-width: 800px; height: 400px; margin: 0 auto"></div>          
                        
                                           

                    </div>

                    <div class="col-lg-6 col-md-6 text-center">
                                <div class="service-box">
                                     <img src="img/lat.jpg" class="img-responsive" alt=""> </div><hr class="primary"> <br>   
                                    <div id="lat" style="min-width: 310px; max-width: 800px; height: 400px; margin: 0 auto"></div>          
                        
                                                 

                             </div>
                    </div>
                    <br><br>        
<!-- row three -->
                             <div class="row">
                
                    <div class="col-lg-6 col-md-6 text-center">

                        <div class="service-box">
                        
                        <img src="img/nyt.jpg" class="img-responsive" alt="">  </div> <hr class="primary"> <br>   
                        <div id="nyt" style="min-width: 310px; max-width: 800px; height: 400px; margin: 0 auto"></div>          
                        
                                           

                    </div>

                    <div class="col-lg-6 col-md-6 text-center">
                                <div class="service-box">
                                     <img src="img/slate.jpg" class="img-responsive" alt=""> </div><hr class="primary"> <br>   
                                    <div id="slate" style="min-width: 310px; max-width: 800px; height: 400px; margin: 0 auto"></div>          
                        
                                                 

                             </div>
                    </div>
                    <br><br>
<!-- row four -->
                             <div class="row">
                
                    <div class="col-lg-6 col-md-6 text-center">

                        <div class="service-box">
                        
                        <img src="img/wp.jpg" class="img-responsive" alt="">  </div> <hr class="primary"> <br>   
                        <div id="wp" style="min-width: 310px; max-width: 800px; height: 400px; margin: 0 auto"></div>          
                        
                                           

                    </div>

                    <div class="col-lg-6 col-md-6 text-center">
                                <div class="service-box">
                                     <img src="img/wt.jpg" class="img-responsive" alt=""> </div><hr class="primary"> <br>   
                                    <div id="wt" style="min-width: 310px; max-width: 800px; height: 400px; margin: 0 auto"></div>          
                        
                                                 

                             </div>
                    </div>
                                 
              
            <div class="col-lg-12 ">
                <br><br>
                    <p>In the days leading up to his inauguration, a lot of what was written about Mr. Trump was optimism mixed with caution. No one really knew how he was going to be as a President. But immediately after his inauguration came the aftermath of Russian Hacks followed by the Travel ban during which Trump lashed out at the media. This can explain the increased in negative articles during that period. <br><br>
                    While most of the sources follow the same trend of more negative stories after his inauguration, Washington Times actually reduced the number of negative articles about Trump since he became President and increased the number of positive articles. Fox, on the other, had increased negative coverage, but it also increased its positive coverage. Sites like the New York Times and Slate that have known to show their bias one in a while also followed the same pattern. The LA times has the biggest jump in negative articles, going from a 38% before his inauguration to 63% after. Even the Chicago tribune, that is known to be conservative, increased its negative coverage and decreased it positive coverage.</p>
                    
                  </div>  
          </div>
         <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                <hr class="primary">
                    <h2 class="section-heading">Methodology</h2>
                    
                </div>
            </div>
        </div>
        
<!--     </section>
 -->
    
        <div class="container">
            <div class="row">
                <div class="col-lg-12 ">
                    <br>
                   
                    <p>FRAMEWORK: Python’s NLTK toolkit and it’s sentiment analyzer module.
<br><br>
                        Part of this project was training our Naive Bayes Classifier on a manually tagged set of articles about a particular political figure. In our case, we chose Trump because of the immense media attention is given to him.<br>
<br>
                        We collected around 2000 articles about Trump, one month before and after his inauguration from the following news sites: Chicago Tribune, CNN, FOX, LA Times, New York Times, Slate, Washington Post and Washington Times.  We randomly selected 20% of our corpus and manually tagged the articles we read as Positive, Negative or Neutral. The final tag assigned to each article in the training set was the majority sentiment that was tagged by us. E.g. If an article was tagged: Positive, Positive, Negative by the three of us individually, the final tag of that article was Positive. If we encountered a tie we would sit and reread the article together and come to a consensus about the final tag.<br>
<br>
                        After we had our tagged set, we ran a preliminary analysis on it to get an idea of what we were dealing with and to build our hypothesis on.</p>



<div class="infogram-embed" data-id="tagged_set-522539" data-type="interactive" data-title="Tagged set"></div><script>!function(e,t,s,i){var n="InfogramEmbeds",o=e.getElementsByTagName("script"),d=o[0],r=/^http:/.test(e.location)?"http:":"https:";if(/^\/{2}/.test(i)&&(i=r+i),window[n]&&window[n].initialized)window[n].process&&window[n].process();else if(!e.getElementById(s)){var a=e.createElement("script");a.async=1,a.id=s,a.src=i,d.parentNode.insertBefore(a,d)}}(document,0,"infogram-async","//e.infogr.am/js/dist/embed-loader-min.js");</script>

 <div style="padding:8px 0;font-family:Arial!important;font-size:13px!important;line-height:15px!important;text-align:center;border-top:1px solid #dadada;margin:0 30px"><a href="https://infogr.am/tagged_set-522539" style="color:#989898!important;text-decoration:none!important;" target="_blank" rel="nofollow">Tagged set</a><br><a href="https://infogr.am" style="color:#989898!important;text-decoration:none!important;" target="_blank" rel="nofollow">Create your own infographics</a></div>


                        <br><p>
                            As we thought the number of negative articles increased after his inauguration. We hypothesized that this would be true for our entire data set as well.<br><br>

                            We created a few feature sets that we thought would help analyze sentiment in a new article. As mentioned above, sentiment analysis on news is very subjective and each model will be different from the next. For our model, we created the following feature sets:<br><br>

                            <strong>Quotes:</strong> Does the number of quotes in an article determine its sentiment<br><br>

                            <strong>No Punctuation:</strong> Do punctuations bear any weight on sentiment<br><br>

                            <strong>Exclamations and Question Marks:</strong> Does having an exclamation mark in the text affect the polarity of that text<br><br>

                            <strong>Word Polarity:</strong> Each word is in the article is given a polarity score based on the MPQA lexicon and then the scores are summed to determine the sentiment of the article<br><br>

                            <strong>Adjective Polarity:</strong> Each adjective in the article is given a polarity score based on the MPQA lexicon and then the scores are summed to determine the sentiment of the article<br><br>

                            <strong>Stopwords:</strong> Do words like Then, a, is an etc have any say in the sentiment of an article?<br><br>

                            <strong>Bigram:</strong> Taking two consecutive words to analyze sentiment. For example, the Bigram/ word set ‘Mexico’, ‘border’ has a negative convocation in our data set.<br><br>

                            <strong>Unigram:</strong> Counts every single word in the article. For examples is the word “wrong” appears in many articles tagged Negative, then the machine will assume that a new article with the word “wrong” in it will also be negative.<br><br>

                            After defining our feature sets, we went on to the test the accuracy of our model. In the end, the Adjective polarity feature set scored the highest in terms of accuracy. That is what our model is based on. It takes every adjective in the text and assigns it a polarity score based on the MPQA word lexicon. Then the negative, Positive and Neutral scores are tallied for each article and the sentiment with the highest score is the final tag for the article. We ran the rest of the database through our program that the results are what you see on this site.<br>
                            <br>
                            While we were satisfied with our results, the sentiment analysis model itself is very subjective and hence the results here should be taken as anything other than the outcome of an educational quest.</p>
                                                
                </div>
                      </div>
             </div>
       

    
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <center><h2 class="section-heading">Sample set of Data </h2></center>
                    <hr class="primary">
                    <p>Presented below is a sample of the data we used for this analysis. The tags in the list were generated by the computer. As you will see, not all the tags are accurate, as subjectivity depends on the reader as well.</p>
         <div class="col-lg-8 col-lg-offset-2">
       <center><embed src="https://cdn.rawgit.com/amiham-singh/Tabletop/master/Table/mahima.html" height="600px" width="700px"></center>

                    
                </div>
                
            </div>
        </div>
        </div>
    
<br>
<br>
     <aside class="bg-dark">
        <div class="container text-center">
            <!-- <hr class="light"> -->
                    <p class="text-faded">Special thanks:

                        Dan Pacheco, Professor at Syracuse University's S.I. Newhouse School of Public Communications, for teaching me how not to be afraid of JavaScript | Dr. Lu Xiao, associate professor at the School of Information Studies at Syracuse University, who taught me how to teach machines | Daniela and James for being a solid team | My laptop for enduring all that classifier training</p>
                    
        </div>
    </aside>

    <!-- jQuery -->
    <script src="vendor/jquery/jquery.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="vendor/bootstrap/js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
    <script src="vendor/scrollreveal/scrollreveal.min.js"></script>
    <script src="vendor/magnific-popup/jquery.magnific-popup.min.js"></script>

    <!-- Theme JavaScript -->
    <script src="js/creative.min.js"></script>


    <script type="text/javascript">

Highcharts.chart('container1', {
    chart: {
        type: 'column'
    },
    title: {
        text: 'News Media Polarity'
    },
    // subtitle: {
    //     text: 'Source: WorldClimate.com'
    // },
    xAxis: {
        categories: [
            'Negative',
            'Neutral',
            'Positive',
            
        ],
        crosshair: true
    },
    yAxis: {
        min: 0,
        title: {
            text: 'Percent'
        }
    },
    tooltip: {
        headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
        pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
            '<td style="padding:0"><b>{point.y:.1f} %</b></td></tr>',
        footerFormat: '</table>',
        shared: true,
        useHTML: true
    },
    plotOptions: {
        column: {
            pointPadding: 0.2,
            borderWidth: 0
        }
    },
    series: [{
        name: 'Before inauguration',
        color: "#FFD700",
        data: [38.44, 36.85, 24.7]

    
    }, {
        name: 'After inauguration',
        color: "#FF8C00",
        data: [43.71, 35.85, 20.43]

    }]
});
        </script>
    
<script type="text/javascript">

var categories = ['Negatvie', 'Neutral', 'Positive'];
$(document).ready(function () {
    Highcharts.chart('ct', {
        chart: {
            type: 'bar'
        },
        exporting: { enabled: false },
        title: {
            text: ''
        },
        
        xAxis: [{
            categories: categories,
            reversed: false,
            labels: {
                step: 1
            }
      
        }],
        yAxis: {
            title: {
                text: null
            },
            labels: {
                formatter: function () {
                    return Math.abs(this.value) + '%';
                }
            }
        },

        plotOptions: {
            series: {
                stacking: 'normal'
            }
        },

        tooltip: {
            formatter: function () {
                return '<b>' + this.series.name + " : " + this.point.category + '</b><br/>' +
                    'Population: ' + Highcharts.numberFormat(Math.abs(this.point.y), 0)+ "%";
            }
        },

        series: [{
            name:  ' Before inauguration',
            color: "#FF8C00",
            data: [-52, -24, -24, ]
        }, {
            name: 'After inauguration',
        color: "#33658A",
        data: [56, 28, 16]
        }]


    });
});

        </script>
            <script type="text/javascript">

Highcharts.chart('cnn', {
    chart: {
        type: 'column'
    },
    title: {
        text: ''
    },

    exporting: { enabled: false },
    xAxis: {
       categories: ['Negative', 'Neutral', "Positive"]
    },
    labels:{
             style: {
                      fontWeight: 'bold'
                     }
            },

    yAxis: {
        min: 0,
        title: {
            text: 'Percent'
        }
    },
    tooltip: {
        pointFormat: '<span style="color:{series.color}">{series.name}</span>:  {point.percentage:.0f}%<br/>',
        shared: true
    },
    plotOptions: {
        column: {
            stacking: 'percent'
        }
    },
    series: [{
        name: 'Before Inauguration',
        color: "#FF8C00",
        data: [28, 47, 26 ]
    }, {
        name: 'After Inauguration',
        color: '#33658A',
        data: [37, 45,18]
    }]
});
        </script>


<script type="text/javascript">

Highcharts.chart('fox', {
    chart: {
        type: 'column'
    },
    title: {
        text: ''
    },

    exporting: { enabled: false },
    xAxis: {
       categories: ['Negative', 'Neutral', "Positive"]
    },
    labels:{
             style: {
                      fontWeight: 'bold'
                     }
            },

    yAxis: {
        min: 0,
        title: {
            text: 'Percent'
        }
    },
    tooltip: {
        pointFormat: '<span style="color:{series.color}">{series.name}</span>:  {point.percentage:.0f}%<br/>',
        shared: true
    },
    plotOptions: {
        column: {
            stacking: 'percent'
        }
    },
    series: [{
        name: 'Before Inauguration',
        color: "#FF8C00",
        data: [39, 36, 25 ]
    }, {
        name: 'After Inauguration',
        color: '#33658A',
        data: [40, 34,26]
    }]
});
        </script>



        <script type="text/javascript">
// Data gathered from http://populationpyramid.net/germany/2015/

// Age categories
var categories = ['Negatvie', 'Neutral', 'Positive'];
$(document).ready(function () {
    Highcharts.chart('lat', {
        chart: {
            type: 'bar'
        },
        title: {
            text: ''
        },
        
        xAxis: [{
            categories: categories,
            reversed: false,
            labels: {
                step: 1
            }
   
        }],
        yAxis: {
     
            title: {
                text: null
            },
            labels: {
                formatter: function () {
                    return Math.abs(this.value) + '%';
                }
            }
        },

        plotOptions: {
            series: {
                stacking: 'normal'
            }
        },

        tooltip: {
            formatter: function () {
                return '<b>' + this.series.name + " : " + this.point.category + '</b><br/>' +
                    'Population: ' + Highcharts.numberFormat(Math.abs(this.point.y), 0)+ "%";
            }
        },

        series: [{
            name:  ' Before inauguration',
            color: "#FF8C00",
            data: [-38, -35, -26, ]
        }, {
            name: 'After inauguration',
        color: "#33658A",
        data: [63, 19, 19]
        }]


    });
});

        </script>


<script type="text/javascript">

var categories = ['Negatvie', 'Neutral', 'Positive'];
$(document).ready(function () {
    Highcharts.chart('nyt', {
        chart: {
            type: 'bar'
        },
        exporting: { enabled: false },
        title: {
            text: ''
        },
        
        xAxis: [{
            categories: categories,
            reversed: false,
            labels: {
                step: 1
            }
    
        }],
        yAxis: {
            title: {
                text: null
            },
            labels: {
                formatter: function () {
                    return Math.abs(this.value) + '%';
                }
            }
        },

        plotOptions: {
            series: {
                stacking: 'normal'
            }
        },

        tooltip: {
            formatter: function () {
                return '<b>' + this.series.name + " : " + this.point.category + '</b><br/>' +
                    'Population: ' + Highcharts.numberFormat(Math.abs(this.point.y), 0)+ "%";
            }
        },

        series: [{
            name:  ' Before inauguration',
            color: "#FF8C00",
            data: [-65, -24, -11, ]
        }, {
            name: 'After inauguration',
        color: "#33658A",
        data: [70, 19, 10]
        }]


    });
});

        </script>
        <script type="text/javascript">
        Highcharts.chart('slate', {
    chart: {
        type: 'column'
    },
    title: {
        text: ''
    },

    exporting: { enabled: false },
    xAxis: {
       categories: ['Negative', 'Neutral', "Positive"]
    },
    labels:{
             style: {
                      fontWeight: 'bold'
                     }
            },

    yAxis: {
        min: 0,
        title: {
            text: 'Percent'
        }
    },
    tooltip: {
        pointFormat: '<span style="color:{series.color}">{series.name}</span>:  {point.percentage:.0f}%<br/>',
        shared: true
    },
    plotOptions: {
        column: {
            stacking: 'percent'
        }
    },
    series: [{
        name: 'Before Inauguration',
        color: "#FF8C00",
        data: [65, 4, 30 ]
    }, {
        name: 'After Inauguration',
        color: '#33658A',
        data: [72, 11,17]
    }]
});
        </script>

<script type="text/javascript">

Highcharts.chart('wp', {
    chart: {
        type: 'column'
    },
    title: {
        text: ''
    },

    exporting: { enabled: false },
    xAxis: {
       categories: ['Negative', 'Neutral', "Positive"]
    },
    labels:{
             style: {
                      fontWeight: 'bold'
                     }
            },

    yAxis: {
        min: 0,
        title: {
            text: 'Percent'
        }
    },
    tooltip: {
        pointFormat: '<span style="color:{series.color}">{series.name}</span>:  {point.percentage:.0f}%<br/>',
        shared: true
    },
    plotOptions: {
        column: {
            stacking: 'percent'
        }
    },
    series: [{
        name: 'Before Inauguration',
        color: "#FF8C00",
        data: [30, 20, 50 ]
    }, {
        name: 'After Inauguration',
        color: '#33658A',
        data: [52, 17,30]
    }]
});
        </script>

        <script type="text/javascript">
// Data gathered from http://populationpyramid.net/germany/2015/

// Age categories
var categories = ['Negatvie', 'Neutral', 'Positive'];
$(document).ready(function () {
    Highcharts.chart('wt', {
        chart: {
            type: 'bar'
        },
        title: {
            text: ''
        },
        
        xAxis: [{
            categories: categories,
            reversed: false,
            labels: {
                step: 1
            }
     
        }],
        yAxis: {
            title: {
                text: null
            },
            labels: {
                formatter: function () {
                    return Math.abs(this.value) + '%';
                }
            }
        },

        plotOptions: {
            series: {
                stacking: 'normal'
            }
        },

        tooltip: {
            formatter: function () {
                return '<b>' + this.series.name + " : " + this.point.category + '</b><br/>' +
                    'Population: ' + Highcharts.numberFormat(Math.abs(this.point.y), 0)+ "%";
            }
        },

        series: [{
            name:  ' Before inauguration',
            color: "#FF8C00",
            data: [-38, -38, -25, ]
        }, {
            name: 'After inauguration',
        color: "#33658A",
        data: [21, 46, 33]
        }]


    });
});

        </script>
        
        <!-- begin analytics -->
        

</body>

</html>
